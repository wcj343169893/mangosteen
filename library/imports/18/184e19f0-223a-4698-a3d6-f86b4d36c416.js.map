{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\Game.js"],"names":["cc","Class","extends","Component","properties","majiangPrefab","default","type","Prefab","onLoad","console","log","initAllMajiang","mjSize","majiangPool","size","i","majiang","get","node","addChild","start","update","dt","NodePool","initCount","mj","spawnNewMj","setPosition","getNewMjPosition","put","name","numb","newMj","instantiate","config","getComponent","game","number","index","randX","randY","v2"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACXC,uBAAc;AACbC,qBAAQ,IADK;AAEbC,kBAAKP,GAAGQ;AAFK;AADH,KAHP;;AAUL;;AAECC,UAZI,oBAYM;AACTC,gBAAQC,GAAR,CAAY,YAAZ;AACA;AACA,aAAKC,cAAL;AACA;AACA,YAAIC,SAAS,KAAKC,WAAL,CAAiBC,IAAjB,EAAb;AACAL,gBAAQC,GAAR,CAAY,UAAQE,MAApB;;AAEA,aAAI,IAAIG,IAAE,CAAV,EAAYA,IAAEH,MAAd,EAAqBG,GAArB,EAAyB;AACxB,gBAAIC,UAAU,KAAKH,WAAL,CAAiBI,GAAjB,EAAd;AACA;AACA,iBAAKC,IAAL,CAAUC,QAAV,CAAmBH,OAAnB;AACA;AACD,KAzBG;AA2BLI,SA3BK,mBA2BI,CAER,CA7BI;AA+BJC,UA/BI,kBA+BIC,EA/BJ,EA+BQ;AACX;AACA,KAjCG;;AAkCJX,oBAAe,0BAAU;AACxB,aAAKE,WAAL,GAAmB,IAAId,GAAGwB,QAAP,EAAnB;AACA,YAAIC,YAAY,EAAhB;AACA,aAAK,IAAIT,IAAI,CAAb,EAAgBA,IAAIS,SAApB,EAA+B,EAAET,CAAjC,EAAoC;AACjC;AACA;AACA;AACA,gBAAIU,KAAK,KAAKC,UAAL,CAAgB,MAAhB,EAAuBX,IAAE,CAAzB,CAAT;AACA;AACNU,eAAGE,WAAH,CAAe,KAAKC,gBAAL,CAAsBb,CAAtB,CAAf;AACM,iBAAKF,WAAL,CAAiBgB,GAAjB,CAAqBJ,EAArB,EAPiC,CAOP;AAC7B;AACA,KA9CG;AA+CJC,gBAAW,oBAASI,IAAT,EAAcC,IAAd,EAAmB;AAC7BtB,gBAAQC,GAAR,CAAY,OAAZ,EAAoBoB,IAApB,EAAyBC,IAAzB;AACA;AACJ,YAAIC,QAAOjC,GAAGkC,WAAH,CAAe,KAAK7B,aAApB,CAAX;;AAEAK,gBAAQC,GAAR,CAAY,QAAZ;AACA;AACA;AACA,YAAIwB,SAASF,MAAMG,YAAN,CAAmB,eAAnB,CAAb;AACAD,eAAOE,IAAP,GAAc,IAAd;AACAF,eAAO5B,IAAP,GAAYwB,IAAZ;AACAI,eAAOG,MAAP,GAAcN,IAAd;AACA,eAAOC,KAAP;AACI,KA5DG;AA6DJJ,sBAAiB,0BAASU,KAAT,EAAe;AAC/B,YAAIC,QAAM,CAACD,QAAM,CAAP,IAAU,EAApB;AACA,YAAIE,QAAM,CAAV;;AAEA,eAAOzC,GAAG0C,EAAH,CAAMF,KAAN,EAAYC,KAAZ,CAAP;AACA;AAlEG,CAAT","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \tmajiangPrefab:{\r\n    \t\tdefault:null,\r\n    \t\ttype:cc.Prefab\r\n    \t}\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n     \tconsole.log(\"开始游戏，创建对象池\");\r\n     \t//洗牌\r\n     \tthis.initAllMajiang();\r\n     \t//显示到屏幕上\r\n     \tlet mjSize = this.majiangPool.size();\r\n     \tconsole.log(\"麻将个数：\"+mjSize);\r\n     \t\r\n     \tfor(var i=0;i<mjSize;i++){\r\n\t     \tlet majiang = this.majiangPool.get();\r\n\t     \t//console.log(majiang);\r\n\t     \tthis.node.addChild(majiang);\r\n     \t}\r\n     },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n     update (dt) {\r\n     \t//console.log(\"更新画布\",dt)\r\n     },\r\n     initAllMajiang:function(){\r\n     \tthis.majiangPool = new cc.NodePool();\r\n     \tlet initCount = 13;\r\n     \tfor (let i = 0; i < initCount; ++i) {\r\n\t        //let mmj = cc.instantiate(this.enemyPrefab); // 创建节点\r\n\t        //tiao   tong  wan\r\n\t        //生成一个新麻将\r\n\t        let mj = this.spawnNewMj(\"tiao\",i+1);\r\n\t        //一排，依次排开\r\n\t\t\tmj.setPosition(this.getNewMjPosition(i));\r\n\t        this.majiangPool.put(mj); // 通过 putInPool 接口放入对象池\r\n\t    }\r\n     },\r\n     spawnNewMj:function(name,numb){\r\n     \tconsole.log(\"创建麻将：\",name,numb)\r\n     \t//生成一个新麻将\r\n\t\tvar newMj= cc.instantiate(this.majiangPrefab);\r\n\t\t\r\n\t\tconsole.log(\"已经new了\")\r\n\t\t// 将新增的节点添加到 Canvas 节点下面\r\n\t\t//this.node.addChild(newMj);\r\n\t\tvar config = newMj.getComponent('MajiangEntity');\r\n\t\tconfig.game = this;\r\n\t\tconfig.type=name;\r\n\t\tconfig.number=numb;\r\n\t\treturn newMj;\r\n     },\r\n     getNewMjPosition:function(index){\r\n     \tvar randX=(index+1)*58;\r\n     \tvar randY=0;\r\n     \t\r\n     \treturn cc.v2(randX,randY);\r\n     }\r\n});\r\n"]}